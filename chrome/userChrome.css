/* ===========================================
   COSMIC Firefox Theme (userChrome.css)
   - global roundness slider
   - global accent color
   - COSMIC dark surfaces
=========================================== */

/* ========== COSMIC VARIABLES ========== */
/* Change these two lines to match your COSMIC desktop */

:root {
    --cosmic-radius: 22px;        /* Global UI roundness */
    --cosmic-accent: AccentColor;     /* Accent color */

    --cosmic-bg: color-mix(in srgb, AccentColorText 40%, black);         /* Main background  */
    --cosmic-bg-dark: CanvasText;
    --cosmic-bg-light: Canvas;
    --cosmic-border: AccentColor;

    --cosmic-text: CanvasText;
    --cosmic-text-dim: AccentColor;
}

/* ===========================================
   General Surfaces
=========================================== */

#navigator-toolbox,
#TabsToolbar,
#nav-bar {
    background: var(--cosmic-bg) !important;
    color: var(--cosmic-text) !important;
    border: none !important;
    box-shadow: none !important;
}

/* Remove tab separators */
.tabbrowser-tab::after,
.tabbrowser-tab::before {
    border: none !important;
}

/* ===========================================
   Tabs
=========================================== */

/* Tab padding for cleaner spacing */
.tabbrowser-tab {
    padding: 2px 2px !important;
    margin: 0px 0px !important;
}

/* Background of tabs */
.tab-background {
    background: var(--cosmic-bg) !important;
    border-radius: var(--cosmic-radius) !important;
    border: 1px solid var(--cosmic-border) !important;
}

/* Selected tab */
.tabbrowser-tab[selected="true"] .tab-background {
    background: var(--cosmic-bg-light) !important;
    border-color: var(--cosmic-accent) !important;
}

.tabbrowser-tab[selected="true"] {
    color: var(--cosmic-text) !important;
}
.tabbrowser-tab:not([selected="true"]) {
    color: var(--cosmic-text-dim) !important;
}

/* Hover effect */
.tabbrowser-tab:hover .tab-background {
    background-color: var(--cosmic-bg-light) !important;
}

/* ===========================================
   URL Bar & Search Bar - IMPROVED
=========================================== */

#urlbar-background,
#searchbar {
    border-radius: var(--cosmic-radius) !important;
    background-color: var(--cosmic-bg-light) !important;
    border: 1px solid var(--cosmic-border) !important;
}

/* URL bar container */
#urlbar-container {
    margin-inline: 6px !important;
}

/* URL bar input field */
#urlbar-input-container {
    border-radius: var(--cosmic-radius) !important;
    background: transparent !important;
}

/* Focused state - more comprehensive */
#urlbar[focused="true"] #urlbar-background,
#urlbar[focused="true"] {
    border-color: var(--cosmic-accent) !important;
    background-color: var(--cosmic-bg-light) !important;
    border-radius: var(--cosmic-radius) !important;
}

/* Ensure URL bar results popup also has roundness */
.urlbarView {
    border-radius: var(--cosmic-radius) !important;
    margin-top: 4px !important;
    border: 1px solid var(--cosmic-border) !important;
}

/* ===========================================
   Bookmark Bar - UPDATED
=========================================== */

#PersonalToolbar {
    background: var(--cosmic-bg) !important;
    color: var(--cosmic-text) !important;
    border: none !important;
    border-top: 1px solid var(--cosmic-border) !important;
    padding: 4px 0 !important;
}

/* Bookmark items */
#PersonalToolbar .toolbarbutton-1 {
    color: var(--cosmic-text) !important;
    border-radius: var(--cosmic-radius) !important;
    padding: 4px 8px !important;
    margin: 0 2px !important;
}

/* Bookmark hover effect */
#PersonalToolbar .toolbarbutton-1:hover {
    background-color: var(--cosmic-bg-light) !important;
    color: var(--cosmic-text) !important;
}

/* Bookmark folder menus */
#PlacesToolbarItems menupopup {
    background: var(--cosmic-bg) !important;
    border: 1px solid var(--cosmic-border) !important;
    border-radius: var(--cosmic-radius) !important;
}

/* ===========================================
   Toolbar Buttons
=========================================== */

.toolbarbutton-1 {
    border-radius: var(--cosmic-radius) !important;
    padding: 6px !important;
}

.toolbarbutton-1:hover {
    background-color: var(--cosmic-bg-light) !important;
}

.toolbarbutton-1[open] {
    background-color: color-mix(in srgb, var(--cosmic-accent) 30%, transparent) !important;
}

/* ===========================================
   Menus, Panels & Popups
=========================================== */

panelview,
panelmultiview,
panel,
menupopup {
    background: var(--cosmic-bg) !important;
    color: var(--cosmic-text) !important;
    border: 1px solid var(--cosmic-border) !important;
    border-radius: var(--cosmic-radius) !important;
}

/* Remove white flash when opening menus */
menupopup {
    -moz-appearance: none !important;
}

/* ===========================================
   Optional: Hide title bar for cleaner look
=========================================== */

#titlebar {
    appearance: none !important;
}

/* ===========================================
   Additional elements for consistent roundness
=========================================== */

/* Download button panel */
#downloadsPanel {
    border-radius: var(--cosmic-radius) !important;
}

/* Library window */
#libraryWindow,
#bookmarksPanel {
    border-radius: var(--cosmic-radius) !important;
}
